import{r as d,ar as y,aj as g,A as _,y as h,aa as $,af as F,z as k,n as p,S as x}from"./index-BV5-grZi.js";function N(){const e=d.useContext(y);if(!e)throw new Error("useSettingsContext should be used within settingsProvider");return e}var C=g,O=_,w=h;function A(e){return function(t,r,s){var i=Object(t);if(!O(t)){var a=C(r);t=w(t),r=function(f){return a(i[f],f,i)}}var n=e(t,r,s);return n>-1?i[a?t[n]:n]:void 0}}var L=A;function M(e,t,r,s){for(var i=e.length,a=r+(s?1:-1);s?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var S=M,T=/\s/;function j(e){for(var t=e.length;t--&&T.test(e.charAt(t)););return t}var D=j,B=D,E=/^\s+/;function P(e){return e&&e.slice(0,B(e)+1).replace(E,"")}var z=P,G=z,I=$,H=F,b=NaN,K=/^[-+]0x[0-9a-f]+$/i,W=/^0b[01]+$/i,X=/^0o[0-7]+$/i,Y=parseInt;function q(e){if(typeof e=="number")return e;if(H(e))return b;if(I(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=I(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=G(e);var r=W.test(e);return r||X.test(e)?Y(e.slice(2),r?2:8):K.test(e)?b:+e}var J=q,Q=J,m=1/0,R=17976931348623157e292;function U(e){if(!e)return e===0?e:0;if(e=Q(e),e===m||e===-m){var t=e<0?-1:1;return t*R}return e===e?e:0}var V=U,Z=V;function l(e){var t=Z(e),r=t%1;return t===t?r?t-r:t:0}var ee=l,te=S,ne=g,re=ee,ie=Math.max;function ae(e,t,r){var s=e==null?0:e.length;if(!s)return-1;var i=r==null?0:re(r);return i<0&&(i=ie(s+i,0)),te(e,ne(t),i)}var se=ae,fe=L,ue=se,de=fe(ue),oe=de;const v=k(oe);function xe(){const e=N(),t=p(),r=d.useCallback(async({settings:n,onSuccess:f,onError:u})=>{try{const o=await(t==null?void 0:t.settings.findOne(n.key).exec());o?o.update({$set:{value:n.value}}).then(()=>{f&&f()}).catch(c=>{u&&u(c)}):t==null||t.settings.insert({key:n.key,value:n.value}).then(()=>{f&&f()}).catch(c=>{u&&u(c)})}catch(o){u&&u(o)}},[t]),s=d.useMemo(()=>{var n;return(n=v(e,{key:x.Language}))==null?void 0:n.value},[e]),i=d.useMemo(()=>{var n;return(n=v(e,{key:x.Level}))==null?void 0:n.value},[e]),a=d.useMemo(()=>{var n;return(n=v(e,{key:x.NativeLanguage}))==null?void 0:n.value},[e]);return{settings:e,updateSettings:r,language:s,level:i,nativeLanguage:a}}export{S as _,v as f,ee as t,xe as u};
