import{r as u,ar as y,aj as g,a6 as h,as as _,a8 as $,ad as F,y as k,n as p,S as x}from"./index-Kk5Gjuel.js";function N(){const e=u.useContext(y);if(!e)throw new Error("useSettingsContext should be used within settingsProvider");return e}var C=g,O=h,w=_;function L(e){return function(t,r,s){var i=Object(t);if(!O(t)){var a=C(r);t=w(t),r=function(f){return a(i[f],f,i)}}var n=e(t,r,s);return n>-1?i[a?t[n]:n]:void 0}}var M=L;function S(e,t,r,s){for(var i=e.length,a=r+(s?1:-1);s?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var T=S,j=/\s/;function A(e){for(var t=e.length;t--&&j.test(e.charAt(t)););return t}var D=A,B=D,E=/^\s+/;function P(e){return e&&e.slice(0,B(e)+1).replace(E,"")}var G=P,H=G,I=$,K=F,b=NaN,W=/^[-+]0x[0-9a-f]+$/i,X=/^0b[01]+$/i,Y=/^0o[0-7]+$/i,q=parseInt;function z(e){if(typeof e=="number")return e;if(K(e))return b;if(I(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=I(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=H(e);var r=X.test(e);return r||Y.test(e)?q(e.slice(2),r?2:8):W.test(e)?b:+e}var J=z,Q=J,m=1/0,R=17976931348623157e292;function U(e){if(!e)return e===0?e:0;if(e=Q(e),e===m||e===-m){var t=e<0?-1:1;return t*R}return e===e?e:0}var V=U,Z=V;function l(e){var t=Z(e),r=t%1;return t===t?r?t-r:t:0}var ee=l,te=T,ne=g,re=ee,ie=Math.max;function ae(e,t,r){var s=e==null?0:e.length;if(!s)return-1;var i=r==null?0:re(r);return i<0&&(i=ie(s+i,0)),te(e,ne(t),i)}var se=ae,fe=M,de=se,ue=fe(de),oe=ue;const v=k(oe);function xe(){const e=N(),t=p(),r=u.useCallback(async({settings:n,onSuccess:f,onError:d})=>{try{const o=await(t==null?void 0:t.settings.findOne(n.key).exec());o?o.update({$set:{value:n.value}}).then(()=>{f&&f()}).catch(c=>{d&&d(c)}):t==null||t.settings.insert({key:n.key,value:n.value}).then(()=>{f&&f()}).catch(c=>{d&&d(c)})}catch(o){d&&d(o)}},[t]),s=u.useMemo(()=>{var n;return(n=v(e,{key:x.Language}))==null?void 0:n.value},[e]),i=u.useMemo(()=>{var n;return(n=v(e,{key:x.Level}))==null?void 0:n.value},[e]),a=u.useMemo(()=>{var n;return(n=v(e,{key:x.NativeLanguage}))==null?void 0:n.value},[e]);return{settings:e,updateSettings:r,language:s,level:i,nativeLanguage:a}}export{v as f,ee as t,xe as u};
