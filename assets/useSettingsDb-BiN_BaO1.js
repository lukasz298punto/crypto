import{r as d,ar as _,a3 as g,a6 as h,as as y,a8 as $,al as F,X as k,n as p,S as x}from"./index-BY1PVbq7.js";function N(){const e=d.useContext(_);if(!e)throw new Error("useSettingsContext should be used within settingsProvider");return e}var C=g,O=h,w=y;function L(e){return function(t,r,s){var a=Object(t);if(!O(t)){var i=C(r);t=w(t),r=function(f){return i(a[f],f,a)}}var n=e(t,r,s);return n>-1?a[i?t[n]:n]:void 0}}var M=L;function S(e,t,r,s){for(var a=e.length,i=r+(s?1:-1);s?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var T=S,A=/\s/;function j(e){for(var t=e.length;t--&&A.test(e.charAt(t)););return t}var D=j,B=D,E=/^\s+/;function P(e){return e&&e.slice(0,B(e)+1).replace(E,"")}var X=P,G=X,I=$,H=F,b=NaN,K=/^[-+]0x[0-9a-f]+$/i,W=/^0b[01]+$/i,Y=/^0o[0-7]+$/i,l=parseInt;function q(e){if(typeof e=="number")return e;if(H(e))return b;if(I(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=I(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=G(e);var r=W.test(e);return r||Y.test(e)?l(e.slice(2),r?2:8):K.test(e)?b:+e}var z=q,J=z,m=1/0,Q=17976931348623157e292;function R(e){if(!e)return e===0?e:0;if(e=J(e),e===m||e===-m){var t=e<0?-1:1;return t*Q}return e===e?e:0}var U=R,V=U;function Z(e){var t=V(e),r=t%1;return t===t?r?t-r:t:0}var ee=Z,te=T,ne=g,re=ee,ae=Math.max;function ie(e,t,r){var s=e==null?0:e.length;if(!s)return-1;var a=r==null?0:re(r);return a<0&&(a=ae(s+a,0)),te(e,ne(t),a)}var se=ie,fe=M,ue=se,de=fe(ue),oe=de;const v=k(oe);function xe(){const e=N(),t=p(),r=d.useCallback(async({settings:n,onSuccess:f,onError:u})=>{try{const o=await(t==null?void 0:t.settings.findOne(n.key).exec());o?o.update({$set:{value:n.value}}).then(()=>{f&&f()}).catch(c=>{u&&u(c)}):t==null||t.settings.insert({key:n.key,value:n.value}).then(()=>{f&&f()}).catch(c=>{u&&u(c)})}catch(o){u&&u(o)}},[t]),s=d.useMemo(()=>{var n;return(n=v(e,{key:x.Language}))==null?void 0:n.value},[e]),a=d.useMemo(()=>{var n;return(n=v(e,{key:x.Level}))==null?void 0:n.value},[e]),i=d.useMemo(()=>{var n;return(n=v(e,{key:x.NativeLanguage}))==null?void 0:n.value},[e]);return{settings:e,updateSettings:r,language:s,level:a,nativeLanguage:i}}export{T as _,X as a,v as f,xe as u};
