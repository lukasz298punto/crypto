import{r as i,j as e,x as p,c as C,H as k}from"./index-O7jm2W6K.js";import{C as y,V as u,a as r,K as l}from"./VoiceIcon-Cm54lenY.js";import{u as N,C as E,a as R}from"./useTranslation-7PPNFCvX.js";import{S as t,T as d}from"./map-Cb5YD0IJ.js";import{A as S}from"./Alert-NV7ljgVH.js";import"./IconButton-2TB6bt-n.js";import"./createSvgIcon-BeooMAY-.js";import"./useSettingsDb-DY7g-VkU.js";import"./useSlot-D4Kwqc0o.js";const b=window.SpeechRecognition||window.webkitSpeechRecognition,s=new b;s.continuous=!1;s.interimResults=!1;function V(){const{t:a}=N(),n={wordPolish:"Dom",wordEnglish:"House",pronunciation:"house"},[m,c]=i.useState(!1),[o,h]=i.useState(""),x=()=>{s.stop()};console.log(s,"recognition");const g=i.useCallback(()=>{s.start(),s.onresult=j=>{const f=j.results[0][0].transcript;h(f)},s.onend=()=>{c(!1)},s.onerror=()=>{c(!1)},s.onstart=()=>{c(!0)}},[]);i.useEffect(()=>()=>{s.stop()},[]);const w=()=>{console.log("Użytkownik zaznaczył odpowiedź jako poprawną")};return e.jsx(y,{maxWidth:"md",children:e.jsx(E,{className:"p-2",children:e.jsx(R,{children:e.jsxs(t,{alignItems:"center",justifyContent:"center",children:[e.jsxs(t,{direction:"row",alignItems:"center",children:[e.jsx(d,{variant:"h2",className:"font-medium",children:n.wordPolish}),e.jsx(u,{name:"dupa111111111111111111111111111111",keyCode:r.Two,language:p.Pl})]}),e.jsxs(t,{direction:"row",alignItems:"center",className:C("mb-2",{"opacity-0":!o}),children:[e.jsx(d,{variant:"h5",color:"text.secondary",children:n.wordEnglish}),e.jsx(u,{name:"dupa111111111111111111111111111111",keyCode:r.Two,language:p.En})]}),o&&e.jsx(e.Fragment,{children:e.jsx(S,{severity:(n==null?void 0:n.wordEnglish)===o?"success":"error",className:"mb-2 h-[56px] w-full xy-center",children:o})}),m&&e.jsxs(t,{gap:1,direction:"row",alignItems:"center",className:"mb-2 h-[56px]",children:[e.jsx(k,{size:20}),e.jsx(d,{children:a("Trwa nagrywanie dźwięku...")})]}),o?e.jsx(l,{keyCode:r.Enter,className:"w-full flex-1",variant:"contained",onClick:w,children:a("Następne słowo")}):e.jsxs(t,{className:"w-full",direction:"row",gap:1,children:[e.jsx(l,{keyCode:r.One,className:"flex-1",color:"error",variant:"contained",onClick:x,children:a("Pomiń")}),e.jsx(l,{disabled:m,keyCode:r.Enter,className:"flex-1",variant:"contained",onClick:g,children:a("Nagraj")})]})]})})})})}export{V as default};
