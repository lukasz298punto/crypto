import{r as u,ar as _,_ as g,ab as y,as as h,ad as $,al as F,y as k,n as p,S as x}from"./index-RNeSsSfO.js";function N(){const e=u.useContext(_);if(!e)throw new Error("useSettingsContext should be used within settingsProvider");return e}var C=g,O=y,w=h;function L(e){return function(t,r,s){var i=Object(t);if(!O(t)){var a=C(r);t=w(t),r=function(f){return a(i[f],f,i)}}var n=e(t,r,s);return n>-1?i[a?t[n]:n]:void 0}}var M=L;function S(e,t,r,s){for(var i=e.length,a=r+(s?1:-1);s?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var T=S,A=/\s/;function j(e){for(var t=e.length;t--&&A.test(e.charAt(t)););return t}var D=j,B=D,E=/^\s+/;function P(e){return e&&e.slice(0,B(e)+1).replace(E,"")}var G=P,H=G,b=$,K=F,I=NaN,W=/^[-+]0x[0-9a-f]+$/i,X=/^0b[01]+$/i,Y=/^0o[0-7]+$/i,l=parseInt;function q(e){if(typeof e=="number")return e;if(K(e))return I;if(b(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=b(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=H(e);var r=X.test(e);return r||Y.test(e)?l(e.slice(2),r?2:8):W.test(e)?I:+e}var z=q,J=z,m=1/0,Q=17976931348623157e292;function R(e){if(!e)return e===0?e:0;if(e=J(e),e===m||e===-m){var t=e<0?-1:1;return t*Q}return e===e?e:0}var U=R,V=U;function Z(e){var t=V(e),r=t%1;return t===t?r?t-r:t:0}var ee=Z,te=T,ne=g,re=ee,ie=Math.max;function ae(e,t,r){var s=e==null?0:e.length;if(!s)return-1;var i=r==null?0:re(r);return i<0&&(i=ie(s+i,0)),te(e,ne(t),i)}var se=ae,fe=M,de=se,ue=fe(de),oe=ue;const v=k(oe);function xe(){const e=N(),t=p(),r=u.useCallback(async({settings:n,onSuccess:f,onError:d})=>{try{const o=await(t==null?void 0:t.settings.findOne(n.key).exec());o?o.update({$set:{value:n.value}}).then(()=>{f&&f()}).catch(c=>{d&&d(c)}):t==null||t.settings.insert({key:n.key,value:n.value}).then(()=>{f&&f()}).catch(c=>{d&&d(c)})}catch(o){d&&d(o)}},[t]),s=u.useMemo(()=>{var n;return(n=v(e,{key:x.Language}))==null?void 0:n.value},[e]),i=u.useMemo(()=>{var n;return(n=v(e,{key:x.Level}))==null?void 0:n.value},[e]),a=u.useMemo(()=>{var n;return(n=v(e,{key:x.NativeLanguage}))==null?void 0:n.value},[e]);return{settings:e,updateSettings:r,language:s,level:i,nativeLanguage:a}}export{T as _,G as a,v as f,xe as u};
